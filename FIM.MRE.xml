<?xml version="1.0" encoding="utf-8"?>
<RulesFile xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <DisableAllRules>false</DisableAllRules>
  <Rules>
    <Rule>
      <Name>Provision group ==> AI</Name>
      <Description></Description>
      <TargetManagementAgentName>AI</TargetManagementAgentName>
      <Enabled>true</Enabled>
      <SourceObject>group</SourceObject>
      <TargetObject>group</TargetObject>
      <Action>provision</Action>
      <RenameDnFlow>
      </RenameDnFlow>
      <Conditions>
        <ConditionBase xsi:type="ConditionMatch">
          <Description>Only two letter accountnames</Description>
          <MVAttribute>accountName</MVAttribute>
          <Pattern>^.+$</Pattern>
        </ConditionBase>
      </Conditions>
      <InitialFlows>
        <AttributeFlowBase xsi:type="AttributeFlowConstant">
          <Constant>#mv:uid#</Constant>
          <Target>[DN]</Target>
        </AttributeFlowBase>
      </InitialFlows>
    </Rule>

    <Rule>
      <Name>Provision Person ==> AI</Name>
      <Description></Description>
      <TargetManagementAgentName>AI</TargetManagementAgentName>
      <Enabled>true</Enabled>
      <SourceObject>person</SourceObject>
      <TargetObject>user</TargetObject>
      <Action>provision</Action>
      <RenameDnFlow>
      </RenameDnFlow>
      <Conditions>
		<ConditionBase xsi:type="ConditionAttributeIsPresent">
          <Description>Only if linked to hr (hrId is present)</Description>
          <MVAttribute>hrId</MVAttribute>
        </ConditionBase>
        <ConditionBase xsi:type="ConditionMatch">
          <Description>Only two letter accountnames</Description>
          <MVAttribute>accountName</MVAttribute>
          <Pattern>^.+$</Pattern>
        </ConditionBase>
      </Conditions>
      <InitialFlows>
        <AttributeFlowBase xsi:type="AttributeFlowConstant">
          <Constant>#mv:hrId#</Constant>
          <Target>[DN]</Target>
        </AttributeFlowBase>

        <!-- AttributeFlowBase xsi:type="AttributeFlowAttribute">
          <Source>accountName</Source>
          <LowercaseTargetValue>true</LowercaseTargetValue>
          <UppercaseTargetValue>false</UppercaseTargetValue>
          <TrimTargetValue>false</TrimTargetValue>
          <Target>[DN]</Target>
        </AttributeFlowBase -->
        <!-- AttributeFlowBase xsi:type="AttributeFlowConcatenate">
          <SourceExpressions>
            <SourceExpressionBase xsi:type="SourceExpressionAttribute">
              <Source>givenName</Source>
            </SourceExpressionBase>
            <SourceExpressionBase xsi:type="SourceExpressionConstant">
              <Source>-</Source>
            </SourceExpressionBase>
            <SourceExpressionBase xsi:type="SourceExpressionAttribute">
              <Source>accountName</Source>
            </SourceExpressionBase>
          </SourceExpressions>
          <Target>[DN]</Target>
        </AttributeFlowBase -->

        <!-- AttributeFlowBase xsi:type="AttributeFlowGuid">
          <Target>[DN]</Target>
        </AttributeFlowBase -->
      </InitialFlows>
    </Rule>
  </Rules>
</RulesFile>